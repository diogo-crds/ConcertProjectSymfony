{% extends 'base.html.twig' %}

{% block title %}Membres{% endblock %}

{% block body %}
    <div class="container">
    <h1>Le groupe {{ band.name }} </h1>
        <p>Composé de {{ band.members|length }} membres qui sont: </p>

<div class="container">
    <div class="card-deck">
    {% for member in band.members %}
        <div class="card text-center">
            <img src="{{ asset('images/'~ member.picture) }}" class="card-img-top" style="height: 150px;">
            <div class="card-body">
                <h4 class="card-title">{{ member.name }} {{ member.firstname }}</h4>
                <p class="card-text"><b>{{ member.job }}</b></p>
                {% if is_granted('ROLE_ADMIN') %}
                    <p><a href="{{ path('edit_member', {id: member.id}) }}" class="btn btn-primary">Modifier</a></p>
                    <p><a href="{{ path('delete_member', {id: member.id}) }}" class="btn btn-danger">Supprimer</a></p>
                {% endif %}
            </div>
            <div class="card-footer"><small class="text-muted">Né le {{ member.birthDate|format_datetime(locale='fr',pattern="dd MMMM YYYY")|title }}</small>
            </div>
        </div>
    {% endfor %}
    </div>

    <br><br>  
    <center>
        <a href="{{ path('create_member') }}" class="btn btn-success">Ajouter des membres dans le groupe {{band.name}}</a>
    </center>
    <br><br>

{% endblock %}